[tox]
envlist = py35, py36, py37, py38
skip_missing_interpreters = true

[testenv]
description = Test the plugin with the pylint's tests
deps =
    -r{toxinidir}/requirements.txt
    gitpython
setenv =
    TOX_TEST_DATA_DIR = {toxworkdir}/pylint_tests
    PACKAGE_ROOT = {toxinidir}
commands =
    python {toxinidir}/scripts/clone_pylint_tests.py
    pip install -U {toxinidir}/
    - flake8 --format=dashboard --outputdir={toxinidir}/example_dashboard {toxworkdir}/pylint_tests/tests
